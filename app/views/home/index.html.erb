<div class="main-content flex flex-col items-center max-w-4xl mx-auto font-bold px-5 py-2 min-h-[calc(100vh-150px)]">
  <h1 class="text-5xl mt-10 mb-20 text-black">Historiaへようこそ！</h1>

  <div class="service-description text-center leading-relaxed text-black font-normal mb-12 max-w-2xl w-full">
    <p class="mb-4 text-lg">
      「Historia (ヒストリア)」は、<br>
      情報管理の側面から作家が物語の一貫性を維持し、<br>
      創作活動を継続できるよう支援するWebアプリケーションです。
    </p>
    <p class="text-lg">
      物語を書き進める中で生じる、登場人物や世界観の設定、<br>
      複雑なストーリー展開、伏線といった情報を<br>
      見やすく管理することで情報の煩雑化を防ぎ、<br>
      完結まで継続して執筆できるよう情報整理をお手伝いします。
    </p>
  </div>

  <h2 class="text-2xl mb-4 text-black">使い方ガイド</h2>

  <div class="guide-sections w-11/12 max-w-2xl mb-8" data-controller="before-home-accordion">
    <div class="guide-item border border-black rounded-lg overflow-hidden mb-3 last:mb-0">
      <div class="guide-header flex justify-between items-center p-4 bg-white text-black text-lg font-bold cursor-pointer hover:bg-gray-100 transition-colors duration-300" data-action="click->before-home-accordion#toggle">
        Googleログインしよう！
        <span class="arrow transition-transform duration-300">&#9660;</span>
      </div>
      <div class="guide-content p-6 bg-gray-50 border-t border-gray-200" data-before-home-accordion-target="content" style="display:none;">
        <div class="flex items-center gap-6">
          <div class="flex-1 text-gray-700 text-left">
            <p class="m-0">まずは、Googleログインを行いましょう。
            ログイン後は右図のように、<br>
            ストーリー一覧ページへ移ります。<br>
            <br>
            ※ 画像をクリックして拡大</p>
          </div>
          <div class="flex-1">
            <%= link_to "#", data: { 
                  action: "click->image-viewer#open", 
                  image_viewer_src_param: image_path('guide-login.png') 
                } do %>
              <%= image_tag 'guide-login.png', class: 'w-full rounded-lg shadow-md border cursor-pointer hover:opacity-80 transition-opacity' %>
            <% end %>
          </div>
        </div>
      </div>
    </div>

    <div class="guide-item border border-black rounded-lg overflow-hidden mb-3 last:mb-0">
      <div class="guide-header flex justify-between items-center p-4 bg-white text-black text-lg font-bold cursor-pointer hover:bg-gray-100 transition-colors duration-300" data-action="click->before-home-accordion#toggle">
        ストーリーを作成しよう！
        <span class="arrow transition-transform duration-300">&#9660;</span>
      </div>
      <div class="guide-content p-6 bg-gray-50 border-t border-gray-200" data-before-home-accordion-target="content" style="display:none;">
        <div class="flex items-center gap-6">
          <div class="flex-1 text-gray-700 text-left">
            <p class="m-0">
              ○ ページ右上にある「ストーリー作成」ボタンから、物語を作成しましょう。<br>
              <br>
              ○ ストーリーを作成すると、右図のように詳細ページに移ります。<br>
              <br>
              ○ 各要素のタブよりその要素のページに移れます。今回は「ワールドガイド」をクリックしましょう。<br>
              <br>
              ※ 画像をクリックして拡大
            </p>
          </div> 
          <div class="flex-1">
            <%= link_to "#", data: { 
                  action: "click->image-viewer#open", 
                  image_viewer_src_param: image_path('guide-create-story.png')
                } do %>
              <%= image_tag 'guide-create-story.png', class: 'w-full rounded-lg shadow-md border cursor-pointer hover:opacity-80 transition-opacity' %>
            <% end %>
          </div>
        </div>
      </div>
    </div>

    <div class="guide-item border border-black rounded-lg overflow-hidden mb-3 last:mb-0">
      <div class="guide-header flex justify-between items-center p-4 bg-white text-black text-lg font-bold cursor-pointer hover:bg-gray-100 transition-colors duration-300" data-action="click->before-home-accordion#toggle">
        ワールドガイドを作成しよう！
        <span class="arrow transition-transform duration-300">&#9660;</span>
      </div>
      <div class="guide-content p-6 bg-gray-50 border-t border-gray-200" data-before-home-accordion-target="content" style="display:none;">
        <div class="flex items-center gap-6">
          <div class="flex-1 text-gray-700 text-left">
            <p class="m-0">
              ○ 「ワールドガイド」ではそのストーリーの世界観となる要素を管理できます。
              追加ボタンを押すことで作成することが可能です。<br>
              <br>
              ○ 右図のように作成済みの要素は<br>
              クリックすることで詳細確認できます。<br>
              <br>
              ★ 特徴は複数設定することができます。複数設定することで詳細な世界観を作り上げましょう。<br>
              <br>
              ※ 画像をクリックして拡大
            </p>
          </div> 
          <div class="flex-1">
            <%= link_to "#", data: { 
                  action: "click->image-viewer#open", 
                  image_viewer_src_param: image_path('guide-world-guide.png')
                } do %>
              <%= image_tag 'guide-world-guide.png', class: 'w-full rounded-lg shadow-md border cursor-pointer hover:opacity-80 transition-opacity' %>
            <% end %>
          </div>
        </div>
      </div>
    </div>

    <div class="guide-item border border-black rounded-lg overflow-hidden mb-3 last:mb-0">
      <div class="guide-header flex justify-between items-center p-4 bg-white text-black text-lg font-bold cursor-pointer hover:bg-gray-100 transition-colors duration-300" data-action="click->before-home-accordion#toggle">
        キャラクターを作成しよう！
        <span class="arrow transition-transform duration-300">&#9660;</span>
      </div>
      <div class="guide-content p-6 bg-gray-50 border-t border-gray-200" data-before-home-accordion-target="content" style="display:none;">
        <div class="flex items-center gap-6">
          <div class="flex-1 text-gray-700 text-left">
            <p class="m-0">
              ○ 「キャラクター」ではそのストーリーの登場人物となる要素を管理できます。<br>
              追加ボタンを押すことで作成することが可能です。<br>
              <br>
              ○ 右図のように作成済みの要素はクリックすることで詳細確認できます。<br>
              <br>
              ★ 関連するキャラクター、特徴は複数設定することができます。<br>
              複数設定することで詳細な人物像を作り上げましょう。<br>
              <br>
              ※ 画像をクリックして拡大
            </p>
          </div> 
          <div class="flex-1">
            <%= link_to "#", data: { 
                  action: "click->image-viewer#open", 
                  image_viewer_src_param: image_path('guide-character.png')
                } do %>
              <%= image_tag 'guide-character.png', class: 'w-full rounded-lg shadow-md border cursor-pointer hover:opacity-80 transition-opacity' %>
            <% end %>
          </div>
        </div>
      </div>
    </div>

    <div class="guide-item border border-black rounded-lg overflow-hidden mb-3 last:mb-0">
      <div class="guide-header flex justify-between items-center p-4 bg-white text-black text-lg font-bold cursor-pointer hover:bg-gray-100 transition-colors duration-300" data-action="click->before-home-accordion#toggle">
        フラグを作成しよう！
        <span class="arrow transition-transform duration-300">&#9660;</span>
      </div>
      <div class="guide-content p-6 bg-gray-50 border-t border-gray-200" data-before-home-accordion-target="content" style="display:none;">
        <div class="flex items-center gap-6">
          <div class="flex-1 text-gray-700 text-left">
            <p class="m-0">
              ○ 「フラグ」ではそのストーリーの伏線となる要素を管理できます。<br>
              追加ボタンを押すことで作成することが可能です。<br>
              <br>
              ○ 右図のように作成済みの要素はクリックすることで詳細確認できます。<br>
              <br>
              ○ 右図にも表示されているボックスから現在のフラグの状態（未実装、設置済み※旗マーク、回収済み※チェックマーク）を確認できます。<br>
              <br>
              ※ 画像をクリックして拡大
            </p>
          </div> 
          <div class="flex-1">
            <%= link_to "#", data: { 
                  action: "click->image-viewer#open", 
                  image_viewer_src_param: image_path('guide-flag.png')
                } do %>
              <%= image_tag 'guide-flag.png', class: 'w-full rounded-lg shadow-md border cursor-pointer hover:opacity-80 transition-opacity' %>
            <% end %>
          </div>
        </div>
      </div>
    </div>

    <div class="guide-item border border-black rounded-lg overflow-hidden mb-3 last:mb-0">
      <div class="guide-header flex justify-between items-center p-4 bg-white text-black text-lg font-bold cursor-pointer hover:bg-gray-100 transition-colors duration-300" data-action="click->before-home-accordion#toggle">
        プロットを作成しよう！
        <span class="arrow transition-transform duration-300">&#9660;</span>
      </div>
      <div class="guide-content p-6 bg-gray-50 border-t border-gray-200" data-before-home-accordion-target="content" style="display:none;">
        <div class="flex items-center gap-6">
          <div class="flex-1 text-gray-700 text-left">
            <p class="m-0">
              ○ ストーリー詳細ページにある「プロット」ではそのストーリーの構成を章単位で管理できます。
              追加ボタンを押すことで作成することが可能です。<br>
              <br>
              ○ 右図のように作成済みの各要素を使用し、わかりやすくプロット管理が可能です。※事前に各要素の作成をお願いします。<br>
              <br>
              ○ 「構成メモ」では追加した各要素などを参考に、自由にメモ書きなどに使用してください。<br>
              <br>
              ○ 作成したプロットを確認しながら、<br>
              ご自身の物語を書いていきましょう！<br>
              <br>
              ※ 画像をクリックして拡大
            </p>
          </div> 
          <div class="flex-1">
            <%= link_to "#", data: { 
                  action: "click->image-viewer#open", 
                  image_viewer_src_param: image_path('guide-plot.png')
                } do %>
              <%= image_tag 'guide-plot.png', class: 'w-full rounded-lg shadow-md border cursor-pointer hover:opacity-80 transition-opacity' %>
            <% end %>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="action-buttons flex justify-center mt-5 mb-5 space-x-4">
    <%= link_to "お試し作成 ※準備中", "#", class: "px-8 py-3 border-2 border-black text-black bg-white rounded-lg font-bold text-lg hover:bg-gray-100 transition-colors duration-300" %>
    <%= link_to "/auth/google_oauth2", class: "border-2 border-black px-8 py-3 rounded-md font-bold hover:bg-black hover:text-white transition-colors duration-300 inline-flex items-center" do %>
      <svg class="w-5 h-5 mr-3" xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48">
        <path fill="#FFC107" d="M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"></path>
        <path fill="#FF3D00" d="M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"></path>
        <path fill="#4CAF50" d="M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"></path>
        <path fill="#1976D2" d="M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.574l6.19,5.238C39.971,36.213,44,30.607,44,24C44,22.659,43.862,21.35,43.611,20.083z"></path>
      </svg>
      Googleでログイン
    <% end %>
  </div>
  <p class="note text-sm text-black leading-relaxed mt-0 mb-20">
    ※注意 : 「お試し作成」では作成したストーリーの保存は行われません。<br>
    作成したストーリーを保存したいときは新規登録をお願いします。
  </p>
</div>
