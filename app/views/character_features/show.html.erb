<% breadcrumb :character_feature, @story, @character_feature %>
<div class="px-4 sm:px-6 lg:px-8 py-8">
  <div class="max-w-screen-xl mx-auto">
    <h1 class="text-center text-3xl md:text-4xl font-bold tracking-tight mt-12 mb-14">特徴の詳細を確認しよう！</h1>

    <div class="flex flex-col sm:flex-row items-center justify-center gap-4 mb-12">
      <%= link_to "特徴を編集する", edit_story_character_feature_path(@story, @character_feature), class: "border border-gray-400 px-6 py-3 rounded-md font-semibold hover:bg-gray-100 transition-colors duration-300" %>
    </div>
 
    <div class="max-w-3xl mx-auto space-y-6 border-2 border-gray-300 p-8 rounded-lg bg-white shadow">
      <div>
        <p class="font-bold">【特徴】</p>
        <p class="text-xl ml-4 mt-2"><%= @character_feature.character_feature_category.name %></p>
      </div>
      <div>
        <p class="font-bold">【説明】</p>
        <p class="text-xl ml-4 mt-2"><%= @character_feature.explanation.presence || "未設定" %></p>
      </div>
      <div>
        <p class="font-bold">【詳細説明】</p>
        <div class="ml-4 mt-2">
          <% if @character_feature.description.present? %>
            <div class="prose max-w-none">
              <%= simple_format(@character_feature.description) %>
            </div>
          <% else %>
            <p class="text-gray-500">詳細説明は未設定です。「特徴を編集する」ボタンより作成ください。</p>
          <% end %>
        </div>
      </div>
      <div>
        <p class="font-bold">【イメージ画像】</p>
        <div class="mt-2">
          <% if @character_feature.image.attached? %>
            <a href="#" 
                data-action="click->image-viewer#open" 
                data-image-viewer-src-param="<%= url_for(@character_feature.image.variant(resize_to_limit: [1200, 1200])) %>">
              <%= image_tag @character_feature.image.variant(resize_to_limit: [800, 800]), class: "w-full h-auto rounded-lg shadow-md cursor-pointer hover:opacity-80 transition-opacity" %>
            </a>
          <% else %>
            <p class="text-xl ml-4 mt-2">なし</p>
          <% end %>
        </div>
      </div>
    </div>

    <div class="text-center mt-12">
      <%= link_to "キャラクター詳細に戻る", story_character_path(@story, @character_feature.character), class: "border border-gray-400 px-6 py-3 rounded-md font-semibold hover:bg-gray-100 transition-colors duration-300" %>
    </div>
  </div>
</div>
