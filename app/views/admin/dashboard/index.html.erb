<h1 class="text-3xl font-bold mb-8 px-8">管理者ダッシュボード</h1>

<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
  <div class="p-6 bg-white border rounded-lg shadow">
    <p class="text-sm font-medium text-gray-500">全ユーザー数</p>
    <p class="text-3xl font-bold text-gray-900"><%= @user_count %></p>
  </div>
  <div class="p-6 bg-white border rounded-lg shadow">
    <p class="text-sm font-medium text-gray-500">全ストーリー数</p>
    <p class="text-3xl font-bold text-gray-900"><%= @story_count %></p>
  </div>
  <div class="p-6 bg-white border rounded-lg shadow">
    <p class="text-sm font-medium text-gray-500">新規ユーザー（週）</p>
    <p class="text-3xl font-bold text-gray-900"><%= @users_this_week %></p>
  </div>
  <div class="p-6 bg-white border rounded-lg shadow">
    <p class="text-sm font-medium text-gray-500">新規ストーリー（週）</p>
    <p class="text-3xl font-bold text-gray-900"><%= @stories_this_week %></p>
  </div>
</div>

<div class="flex items-center gap-4 p-8 bg-white border rounded-lg shadow">
  <%= link_to "ユーザー一覧管理へ", admin_users_path, class: "inline-block px-4 py-2 text-white bg-blue-600 rounded-lg hover:bg-blue-700" %>
  <%= link_to "ストーリー一覧管理へ", admin_stories_path, class: "inline-block px-4 py-2 text-white bg-green-600 rounded-lg hover:bg-green-700" %>
</div>

<div class="mt-8">
  <h2 class="text-2xl font-bold mb-4 px-8">最近のアクティビティ</h2>
  <div class="p-8 bg-white border rounded-lg shadow">
    <h3 class="font-bold text-lg mb-4">最近登録したユーザー</h3>
    
    <% if @recent_users.any? %>
      <ul class="space-y-3">
        <% @recent_users.each do |user| %>
          <li class="flex justify-between items-center">
            <span><%= user.name %></span>
            <span class="text-sm text-gray-500"><%= l user.created_at, format: :long %></span>
          </li>
        <% end %>
      </ul>
    <% else %>
      <p class="text-gray-500">この1週間に登録したユーザーはいません。</p>
    <% end %>
  </div>
</div>
