<% breadcrumb :story, @story %>
<div class="px-4 sm:px-6 lg:px-8 py-8">
  <div class="max-w-screen-xl mx-auto">

    <div class="flex justify-center items-center space-x-4 mb-16 gap-8">
      <% if @story.published? %>
        <%= button_to "公開中", '#', class: "bg-black text-white px-8 py-3 rounded-md font-semibold", disabled: true %>
        <%= button_to "下書き", set_status_story_path(@story, status: :draft), method: :patch, class: "border border-gray-400 px-8 py-3 rounded-md font-semibold hover:bg-gray-100 transition-colors duration-300" %>
      <% else %>
        <%= button_to "公開", set_status_story_path(@story, status: :published), method: :patch, class: "border border-gray-400 px-8 py-3 rounded-md font-semibold hover:bg-gray-100 transition-colors duration-300" %>
        <%= button_to "下書き", '#', class: "bg-black text-white px-8 py-3 rounded-md font-semibold", disabled: true %>
      <% end %>
    </div>

    <div class="mb-12">
      <div>
        <nav class="-mb-px flex justify-center space-x-8" aria-label="Tabs">
          <%# 現在のページ（ストーリー）のタブ %>
          <a href="<%= story_path(@story) %>" class="border-black text-black whitespace-nowrap py-4 px-1 border-b-2 font-medium text-lg" aria-current="page">
            ストーリー
          </a>
          <%# ワールドガイドのタブ（リンク先はダミー） %>
          <a href="#" class="border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 whitespace-nowrap py-4 px-1 border-b-2 font-medium text-lg">
            ワールドガイド
          </a>
          <%# キャラクターのタブ（リンク先はダミー） %>
          <a href="#" class="border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-400 whitespace-nowrap py-4 px-1 border-b-2 font-medium text-lg">
            キャラクター
          </a>
          <%# フラグのタブ（リンク先はダミー） %>
          <a href="#" class="border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-400 whitespace-nowrap py-4 px-1 border-b-2 font-medium text-lg">
            フラグ
          </a>
        </nav>
      </div>
    </div>

    <div class="border-2 rounded-lg p-8 border-black">
      <div class="mb-6">
        <p class="font-bold text-lg mb-2">■ タイトル</p>
        <p class="text-xl ml-4 break-all"><%= @story.title %></p>
      </div>

      <div class="mb-6">
        <p class="font-bold text-lg mb-2">■ ジャンル</p>
        <p class="text-xl ml-4"><%= t("activerecord.attributes.story.genres.#{@story.genre}") %></p>
      </div>

      <div class="mb-6">
        <p class="font-bold text-lg mb-2">■ テーマ</p>
        <p class="text-xl ml-4"><%= @story.thema %></p>
      </div>

      <div class="mb-6">
        <p class="font-bold text-lg mb-2">■ あらすじ</p>
        <div class="text-xl ml-4 break-all"><%= simple_format(@story.synopsis) %></div>
      </div>

      <div class="flex justify-center mt-8">
        <%= link_to "ストーリーを編集する", edit_story_path(@story),
          class: "border border-gray-400 px-4 py-3 rounded-md font-semibold hover:bg-gray-100 transition-colors duration-300",
          data: { turbo: false } %>
      </div>
    </div>

    <div class="mt-12">
      <p class="font-bold text-lg mb-2">■ プロット</p>

      <div class="border-2 rounded-lg p-8 border-black">

        <div class="flex justify-center mt-2">
          <%= link_to "プロットに追加する", "#", class: "border border-gray-400 px-4 py-3 rounded-md font-semibold hover:bg-gray-100 transition-colors duration-300" %>
        </div>
      </div>
    </div>

    <div class="flex justify-center mt-14 mb-6">
      <%= link_to "ストーリーを削除する", "#",
        class: "border border-gray-400 px-4 py-3 rounded-md font-semibold hover:bg-red-500 hover:text-white transition-colors duration-300",
        data: {
          action: "click->modal#open",
          modal_url: story_path(@story),
          modal_story_title: @story.title
        } %>
    </div>
  </div>
</div>
